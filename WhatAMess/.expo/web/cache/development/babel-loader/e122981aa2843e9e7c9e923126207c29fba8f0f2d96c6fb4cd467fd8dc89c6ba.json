{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { NativeWindStyleSheet as _NativeWindStyleSheet } from \"nativewind\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { GlobalContext } from \"../../context/userContext\";\nimport axios from 'axios';\nimport { baseUrl } from \"../../assets/URL\";\nimport { FlashAuto } from '@mui/icons-material';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Icon from \"@expo/vector-icons/MaterialIcons\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Item = function Item(_ref) {\n  var firstname = _ref.firstname,\n    lastname = _ref.lastname,\n    phone = _ref.phone,\n    email = _ref.email;\n  return _jsxs(View, {\n    style: styles.item,\n    children: [_jsxs(Text, {\n      variant: \"titleMedium\",\n      style: styles.text,\n      children: [_jsx(Icon, {\n        name: \"person\"\n      }), \" Full Name - \", firstname, \" \", lastname]\n    }), _jsxs(Text, {\n      variant: \"titleMedium\",\n      style: styles.text,\n      children: [_jsx(Icon, {\n        name: \"email\"\n      }), \" e-mail - \", email]\n    }), _jsxs(Text, {\n      variant: \"titleMedium\",\n      style: styles.text,\n      children: [_jsx(Icon, {\n        name: \"phone\"\n      }), \" Phone - \", phone]\n    })]\n  });\n};\nfunction CustomerList() {\n  var _useContext = useContext(GlobalContext),\n    globalState = _useContext.globalState,\n    setGlobalState = _useContext.setGlobalState;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    List = _useState2[0],\n    setList = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    user = _useState4[0],\n    setUser = _useState4[1];\n  var _useState5 = useState(true),\n    _useState6 = _slicedToArray(_useState5, 2),\n    loading = _useState6[0],\n    setLoading = _useState6[1];\n  var getList = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      console.log(\"Hello in axios\");\n      yield axios.get(baseUrl + \"/mess/owner-details/\" + (globalState == null ? void 0 : globalState.username), {\n        headers: {\n          Authorization: \"Bearer \" + (globalState == null ? void 0 : globalState.token)\n        }\n      }).then(function (res) {\n        console.log(\"Res\", res.data);\n        setList(res.data);\n        console.log(\"After retrieving\");\n      }).catch(function (err) {\n        return console.log(err);\n      });\n      yield fetch().then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        return setList(json);\n      }).catch(function (error) {\n        return console.log(error);\n      }).finally(function () {\n        return setLoading(false);\n      });\n    });\n    return function getList() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    console.log(\"Hello\");\n    getList();\n  }, []);\n  var renderItem = function renderItem(_ref3) {\n    var item = _ref3.item;\n    return _jsx(Item, {\n      firstname: item.firstname,\n      lastname: item.lastname,\n      phone: item.phone,\n      email: item.email\n    });\n  };\n  return _jsx(View, {\n    children: loading ? _jsx(Text, {\n      children: \"Loadingg...\"\n    }) : _jsxs(View, {\n      style: styles.container,\n      children: [_jsx(Text, {\n        style: {\n          textAlign: 'center',\n          fontSize: 20,\n          fontWeight: 'bold'\n        },\n        children: \"Customer List\"\n      }), _jsx(FlatList, {\n        data: List.body.customers,\n        renderItem: renderItem,\n        keyExtractor: function keyExtractor(item) {\n          return item.id;\n        }\n      })]\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    marginTop: 30,\n    padding: 2\n  },\n  item: {\n    backgroundColor: '#f5f520',\n    padding: 20,\n    marginVertical: 8,\n    marginHorizontal: 16\n  },\n  text: {\n    fontSize: 18\n  }\n});\nexport default CustomerList;\n_NativeWindStyleSheet.create({\n  styles: {\n    \"container\": {\n      \"width\": \"100%\"\n    },\n    \"container@0\": {\n      \"maxWidth\": 640\n    },\n    \"container@1\": {\n      \"maxWidth\": 768\n    },\n    \"container@2\": {\n      \"maxWidth\": 1024\n    },\n    \"container@3\": {\n      \"maxWidth\": 1280\n    },\n    \"container@4\": {\n      \"maxWidth\": 1536\n    }\n  },\n  atRules: {\n    \"container\": [[[\"media\", \"(min-width: 640px)\"]], [[\"media\", \"(min-width: 768px)\"]], [[\"media\", \"(min-width: 1024px)\"]], [[\"media\", \"(min-width: 1280px)\"]], [[\"media\", \"(min-width: 1536px)\"]]]\n  },\n  topics: {\n    \"container\": [\"width\"]\n  }\n});","map":{"version":3,"names":["React","useContext","useEffect","useState","GlobalContext","axios","baseUrl","FlashAuto","View","Text","StyleSheet","FlatList","Icon","jsx","_jsx","jsxs","_jsxs","Item","_ref","firstname","lastname","phone","email","style","styles","item","children","variant","text","name","CustomerList","_useContext","globalState","setGlobalState","_useState","_useState2","_slicedToArray","List","setList","_useState3","_useState4","user","setUser","_useState5","_useState6","loading","setLoading","getList","_ref2","_asyncToGenerator","console","log","get","username","headers","Authorization","token","then","res","data","catch","err","fetch","response","json","error","finally","apply","arguments","renderItem","_ref3","container","textAlign","fontSize","fontWeight","body","customers","keyExtractor","id","create","marginTop","padding","backgroundColor","marginVertical","marginHorizontal","_NativeWindStyleSheet","atRules","topics"],"sources":["/home/vishal/Desktop/SpeMajorFrontend/screens/mess/CustomerList.js"],"sourcesContent":["import React, {useContext, useEffect, useState} from 'react'\nimport { GlobalContext } from \"../../context/userContext\";\nimport axios from 'axios';\nimport { baseUrl } from '../../assets/URL';\nimport { FlashAuto } from '@mui/icons-material';\nimport { View,Text, StyleSheet,FlatList } from 'react-native';\nimport Icon from \"react-native-vector-icons/MaterialIcons\";\n\nconst Item = ({firstname,lastname,phone,email}) => {\n  \n  return( \n    <View style={styles.item}>\n      {/* <Text variant=\"medium\"><Icon name=\"email\" /> name: {firstname} {lastname}</Text>\n      <Text>e-mail: {email}</Text>\n      <Text>Phone: {phone}</Text> */}\n      <Text variant=\"titleMedium\" style={styles.text}>\n              <Icon name=\"person\" /> Full Name - {firstname}{\" \"}{lastname}\n      </Text>\n\n      <Text variant=\"titleMedium\" style={styles.text}>\n              <Icon name=\"email\" /> e-mail - {email}\n      </Text>\n\n      <Text variant=\"titleMedium\" style={styles.text}>\n              <Icon name=\"phone\" /> Phone - {phone}\n      </Text>\n    </View>\n  );\n}\n\n\n\nfunction CustomerList() {\n  const { globalState, setGlobalState } = useContext(GlobalContext);\n  const [List,setList] = useState([]);\n  const [user,setUser] =useState(null);\n  const [loading,setLoading] =useState(true);\n  \n\n  \n  \n  \n  const getList = async () => {\n    console.log(\"Hello in axios\")\n    await axios\n      .get(`${baseUrl}/mess/owner-details/${globalState?.username}`, {\n        //make sure that the token starts with Bearer\n        headers: {\n          Authorization: `Bearer ${globalState?.token}`,\n        },\n      })\n      .then((res) => {\n        console.log(\"Res\",res.data);\n        setList(res.data );\n        console.log(\"After retrieving\")\n        \n      })\n      .catch((err) => console.log(err))\n    await fetch()\n    .then(response => response.json())\n   .then((json)=>setList(json))\n   .catch((error)=>console.log(error))\n   .finally(()=> setLoading(false))\n  };\n\n  useEffect(() => {\n    console.log(\"Hello\")\n    getList();\n  }, []);\n\n  \n  // console.log(\"List\",List.body.customers[0].username);\n  const renderItem = ({item})=>( \n    <Item firstname={item.firstname} lastname={item.lastname} phone={item.phone} email={item.email}/>\n  );\n  return (\n    <View>\n      {loading ? (<Text>Loadingg...</Text>) :(\n      <View style={styles.container}>\n        <Text style={{textAlign:'center',fontSize:20,fontWeight:'bold'}}>Customer List</Text>\n      <FlatList\n       data={List.body.customers}\n       renderItem={renderItem}\n       keyExtractor={item => item.id}\n    />\n    \n    </View>\n      ) }\n    </View>\n  );\n}\n\n\nconst styles = StyleSheet.create({\n  container: {\n    marginTop:30,\n    padding:2,\n  },\n  item: {\n    backgroundColor: '#f5f520',\n    padding: 20,\n    marginVertical: 8,\n    marginHorizontal: 16,\n    \n  },\n  text: {\n    fontSize:18\n  },\n});\nexport default CustomerList;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}